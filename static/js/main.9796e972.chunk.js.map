{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/Api.js","App.js","index.js"],"names":["module","exports","Searchbar","state","searchQuery","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","url","bigHit","onClick","src","alt","width","data-image","ImageGalleryItemImage","ImageGallery","hits","map","hit","webformatURL","largeImageURL","id","useStyles","createUseStyles","button","margin","padding","borderRadius","backgroundColor","transition","textAlign","display","color","border","textDecoration","cursor","fontFamily","fontSize","lineHeight","fontStyle","fontWeight","minWidth","boxShadow","Button","classes","SpinnerLoader","Loader","height","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","axios","defaults","baseURL","fetchGetHits","query","page","perPage","get","then","response","data","App","isLoading","showModal","modalImg","handleChangeSearchQuery","scrollToBottom","scrollTo","top","documentElement","scrollHeight","behavior","fetchHits","options","getHits","prevState","catch","error","finally","toggleModal","handleHitOpen","nodeName","console","log","prevProps","length","snapshot","app","SearchBar","dataset","image","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9796e972.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3-X3C\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3_3Vp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3Y7hl\",\"Modal\":\"Modal_Modal__3aKdx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2JfvH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__1O-B1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__h1Vbd\",\"SearchForm\":\"Searchbar_SearchForm__2xtPT\",\"SearchForm__button\":\"Searchbar_SearchForm__button__EtE7M\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__3icuj\",\"SearchForm__input\":\"Searchbar_SearchForm__input__U0GOo\"};","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = { searchQuery: \"\" };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({ searchQuery: event.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchForm__button}>\r\n            <span className={styles.SearchForm__button__label}>Search</span>\r\n          </button>\r\n          <input className={styles.SearchForm__input} type=\"text\" autoComplete=\"off\" autoFocus placeholder=\"Search images and photos\" value={this.state.searchQuery} onChange={this.handleChange} />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ url, bigHit, onClick }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img src={url} alt=\"\" width=\"260\" data-image={bigHit} className={styles.ImageGalleryItemImage} onClick={onClick} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string,\r\n  bigHit: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ hits, onClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {hits.map((hit) => (\r\n        <ImageGalleryItem key={hit.id} url={hit.webformatURL} bigHit={hit.largeImageURL} onClick={onClick} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  hits: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { createUseStyles } from \"react-jss\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst useStyles = createUseStyles({\r\n  button: {\r\n    margin: [\"20px\", \"auto\"],\r\n    padding: [\"8px\", \"16px\"],\r\n    borderRadius: \"2px\",\r\n    backgroundColor: \"#3f51b5\",\r\n    transition: [\"all\", \"250ms\", \"cubic-bezier(0.4, 0, 0.2, 1)\"],\r\n    textAlign: \"center\",\r\n    display: \"block\",\r\n    color: \" #fff\",\r\n    border: 0,\r\n    textDecoration: \"none\",\r\n    cursor: \"pointer\",\r\n    fontFamily: \"inherit\",\r\n    fontSize: \"18px\",\r\n    lineHeight: \"24px\",\r\n    fontStyle: \"normal\",\r\n    fontWeight: 500,\r\n    minWidth: \"180px\",\r\n    boxShadow: [\"0px 3px 1px -2px rgba(0, 0, 0, 0.2)\", \"0px 2px 2px 0px rgba(0, 0, 0, 0.14)\", \" 0px 1px 5px 0px rgba(0, 0, 0, 0.12)\"],\r\n    \"&:hover\": {\r\n      backgroundColor: \" #303f9f\",\r\n    },\r\n  },\r\n});\r\n\r\nconst Button = ({ onClick }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <button type=\"button\" className={classes.button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nconst SpinnerLoader = () => {\r\n  return (\r\n    <div className={styles.Loader}>\r\n      <Loader type=\"Circles\" color=\"#00BFFF\" height={100} width={100} timeout={3000} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpinnerLoader;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nconst API_KEY = \"20362971-ecfbb08827ff6b5f6a4a06bfb\";\r\naxios.defaults.baseURL = `https://pixabay.com/`;\r\n\r\nconst fetchGetHits = ({ query, page, perPage = 12 }) => {\r\n  return axios.get(`/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`).then((response) => response.data);\r\n};\r\n\r\nexport default fetchGetHits;\r\n","import React, { Component } from \"react\";\nimport SearchBar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport SpinerLoader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\nimport getHits from \"./services/Api\";\nimport styles from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    hits: [],\n    page: 1,\n    query: \"\",\n    isLoading: false,\n    showModal: false,\n    modalImg: \"\",\n  };\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (prevState.hits.length < this.state.hits.length && this.state.hits.length > 12) {\n      return \"good choice\";\n    }\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.query !== this.state.query) {\n      this.fetchHits();\n    }\n    if (snapshot !== null) {\n      this.scrollToBottom();\n    }\n  }\n\n  handleChangeSearchQuery = (searchQuery) => {\n    this.setState({ query: searchQuery, page: 1, hits: [] });\n  };\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  fetchHits = () => {\n    const { page, query } = this.state;\n    const options = {\n      page,\n      query,\n    };\n\n    this.setState({ isLoading: true });\n\n    getHits(options)\n      .then((data) => {\n        this.setState((prevState) => ({\n          hits: [...prevState.hits, ...data.hits],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  handleHitOpen = (event) => {\n    event.preventDefault();\n    if (event.target.nodeName !== \"IMG\") {\n      console.log(event.target.nodeName);\n      return;\n    }\n    this.setState({ modalImg: event.target });\n    this.toggleModal();\n  };\n\n  render() {\n    const { hits, modalImg, isLoading, showModal } = this.state;\n    return (\n      <div className={styles.app}>\n        <SearchBar onSubmit={this.handleChangeSearchQuery} />\n        {isLoading && <SpinerLoader />}\n        {hits.length > 0 && <ImageGallery hits={hits} onClick={this.handleHitOpen} />}\n        {hits.length > 0 && <Button onClick={this.fetchHits} />}\n        {showModal && (\n          <Modal modalImg={modalImg} onClose={this.toggleModal}>\n            <img src={modalImg.dataset.image} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}